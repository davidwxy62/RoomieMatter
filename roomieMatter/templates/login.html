{% extends "base.html" %}
{% block script %}
<script>
    window.onbeforeunload = function() {
        sessionStorage.setItem("username", $('#username').val());
    }
    window.onload = function() {
        let username = sessionStorage.getItem("username");
        if (username !== null) $('#username').val(username);
    }
</script>
{% endblock %}
{% block content %}
<div class="container h-100">
    <div class="row align-items-center" style="height:100%">
        <div class="col">
            <div class= "row mx-auto">
                <div class="col mb-lg-5 mb-md-3 mb-sm-2 mb-2">
                    <h1 class="display-5 text-center title">Login</h1>
                </div>
            </div>
            <div class="row mx-auto text-center">
                <div class="mx-auto text-center" style="width: 360px">
                    {% if error %}
                        <p class="error">{{error}}</p>
                    {% endif %}
                    <form action="/accounts/" method="post" enctype="multipart/form-data">
                        <div class="form-group pb-2">
                            <input class="cuteForm" type="text" name="username" placeholder="Username" autofocus required/>
                        </div>
                        <div class="form-group pb-2">
                            <input class="cuteForm" type="password" name="password" placeholder="Password" required/>
                        </div>
                        <input class="cuteButton" type="submit" value="Login"/>
                        <input type="hidden" name="operation" value="login"/>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}